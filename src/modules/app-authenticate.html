<app-authenticate>
  <div class='flex-content-wrapper'>
    <main class='main' role='main'>

      <div class='front-copy'>
        <h1>Log In</h1>
        <p>
          In order to interact with MusiFavs! you'll need to log in first.
        </p>
        <p>
          Please select one of the services below to log in:
        </p>

        <ul class='authenticate-links fa-ul fa-2x'>
          <li>
            <i class='fa-li fa fa-twitter-square'></i>
            <a href='#' onclick={twitter}>Twitter</a>
          </li>

          <li><i class='fa-li fa fa-google-plus-square'></i>
            <a href='#' onclick={google}>Google</a>
            <small>(Sorry, unavailable at the moment)</small>
          </li>
          <li>
            <i class='fa-li fa fa-facebook-square'></i>
            <a href='#' onclick={facebook}>Facebook</a>
            <small>(Sorry, unavailable at the moment)</small>
          </li>
        </ul>

      </div>
    </main>
  </div>

  <script>
    var page = require('page')
    var Dispatcher = require('../app/dispatcher')

    twitter(ev) {
      Dispatcher.trigger('users:auth:popup', 'twitter')
    }

    google(ev) {
      Dispatcher.trigger('message', 'Authenticating with Google is not available yet.')
    }

    facebook(ev) {
      Dispatcher.trigger('message', 'Authenticating with Facebook is not available yet.')
    }

    Dispatcher.on('users:auth:error', function(error){
      Dispatcher.trigger('message', 'Sorry, there was a problem authenticated. Please try again later!')
    })

    Dispatcher.on('users:auth:success', function(error){
      Dispatcher.trigger('message', 'Thanks! you are now authenticated!')
      page.redirect('/posts')
    })
  </script>
</app-authenticate>
